{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nikhil\\\\Documents\\\\GitHub\\\\ConsensysAcademy-Final-Project\\\\src\\\\StoreOwnerContainer.js\";\nimport React, { Component } from 'react';\nimport StoreOwnerView from './StoreOwnerView.js';\nimport Header from './Header.js';\n\nvar StoreOwnerContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StoreOwnerContainer, _Component);\n\n  function StoreOwnerContainer(props) {\n    var _this;\n\n    _classCallCheck(this, StoreOwnerContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StoreOwnerContainer).call(this, props));\n    _this.state = {\n      loading: true,\n      storeAddresses: [],\n      newStoreName: '',\n      newStoreDescription: ''\n    };\n    _this.createNewStore = _this.createNewStore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getStoreAddresses = _this.getStoreAddresses.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(StoreOwnerContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var newStoreCreatedEvent = this.props.marketplace.NewStoreCreated();\n      newStoreCreatedEvent.watch(function (error, result) {\n        if (!error) {\n          _this2.setState({\n            newStoreName: '',\n            newStoreDescription: ''\n          }, function () {\n            return _this2.getStoreAddresses();\n          });\n        }\n      });\n      this.getStoreAddresses();\n    }\n  }, {\n    key: \"getStoreAddresses\",\n    value: function getStoreAddresses() {\n      var _this3 = this;\n\n      this.props.marketplace.getStoreAddressesByOwner.call({\n        from: this.props.currentAccount\n      }).then(function (storeAddresses) {\n        return _this3.setState({\n          storeAddresses: storeAddresses,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"createNewStore\",\n    value: function createNewStore() {\n      var _this4 = this;\n\n      if (!this.state.newStoreName || !this.state.newStoreDescription) {\n        return;\n      }\n\n      this.setState({\n        loading: true\n      }, function () {\n        _this4.props.marketplace.createNewStore.sendTransaction(_this4.state.newStoreName, _this4.state.newStoreDescription, {\n          from: _this4.props.currentAccount\n        }).then(function () {\n          console.log('new store created successfully called');\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var stores = this.state.storeAddresses.map(function (storeAddress) {\n        return React.createElement(StoreOwnerView, {\n          key: storeAddress,\n          address: storeAddress,\n          web3: _this5.props.web3,\n          currentAccount: _this5.props.currentAccount,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Header, {\n        currentAccount: this.props.currentAccount,\n        pageTitle: \"Store Owner Page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          border: '1px solid #0000001e',\n          borderRadius: '4px',\n          backgroundColor: '#fafafa',\n          padding: '15px 15px 60px 15px',\n          margin: '15px',\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          fontSize: '24px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"New Store\"), React.createElement(\"div\", {\n        style: {\n          fontSize: '14px',\n          height: '20px',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.newStoreName,\n        disabled: this.state.loading,\n        placeholder: \"Name\",\n        style: {\n          marginRight: '5px'\n        },\n        onChange: function onChange(e) {\n          return _this5.setState({\n            newStoreName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.newStoreDescription,\n        disabled: this.state.loading,\n        placeholder: \"Description\",\n        onChange: function onChange(e) {\n          return _this5.setState({\n            newStoreDescription: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), this.state.loading ? React.createElement(\"div\", {\n        style: {\n          position: 'absolute',\n          bottom: '15px',\n          left: '15px',\n          right: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Loading...\") : React.createElement(\"button\", {\n        onClick: this.createNewStore,\n        style: {\n          position: 'absolute',\n          bottom: '15px',\n          left: '15px',\n          right: '15px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Create\")), stores.length ? stores : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"No stores yet...\"));\n    }\n  }]);\n\n  return StoreOwnerContainer;\n}(Component);\n\nexport default StoreOwnerContainer;","map":{"version":3,"sources":["C:\\Users\\Nikhil\\Documents\\GitHub\\ConsensysAcademy-Final-Project\\src\\StoreOwnerContainer.js"],"names":["React","Component","StoreOwnerView","Header","StoreOwnerContainer","props","state","loading","storeAddresses","newStoreName","newStoreDescription","createNewStore","bind","getStoreAddresses","newStoreCreatedEvent","marketplace","NewStoreCreated","watch","error","result","setState","getStoreAddressesByOwner","call","from","currentAccount","then","sendTransaction","console","log","stores","map","storeAddress","web3","border","borderRadius","backgroundColor","padding","margin","position","fontSize","height","width","marginRight","e","target","value","bottom","left","right","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport StoreOwnerView from './StoreOwnerView.js'\r\nimport Header from './Header.js';\r\n\r\n\r\nclass StoreOwnerContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      storeAddresses: [],\r\n      newStoreName: '',\r\n      newStoreDescription: ''\r\n    };\r\n\r\n    this.createNewStore = this.createNewStore.bind(this);\r\n    this.getStoreAddresses = this.getStoreAddresses.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let newStoreCreatedEvent = this.props.marketplace.NewStoreCreated();\r\n\r\n    newStoreCreatedEvent.watch((error, result) => {\r\n      if (!error) {\r\n        this.setState(\r\n          {newStoreName: '', newStoreDescription: ''}, \r\n          () => this.getStoreAddresses());\r\n      }\r\n    });\r\n\r\n    this.getStoreAddresses();\r\n  }\r\n\r\n  getStoreAddresses() {\r\n    this.props.marketplace.getStoreAddressesByOwner\r\n      .call({from: this.props.currentAccount})\r\n        .then(storeAddresses => this.setState({storeAddresses, loading: false}));\r\n  }\r\n\r\n  createNewStore() {\r\n    if (!this.state.newStoreName || !this.state.newStoreDescription) {\r\n      return;\r\n    }\r\n\r\n    this.setState({loading: true}, () => {\r\n      this.props.marketplace.createNewStore.sendTransaction(\r\n        this.state.newStoreName, \r\n        this.state.newStoreDescription, \r\n        {from: this.props.currentAccount}).then(() => {\r\n          console.log('new store created successfully called');\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const stores = this.state.storeAddresses.map(storeAddress => \r\n      <StoreOwnerView key={storeAddress}\r\n                      address={storeAddress}\r\n                      web3={this.props.web3}\r\n                      currentAccount={this.props.currentAccount}></StoreOwnerView>);\r\n\r\n    return (\r\n      <div>\r\n        <Header currentAccount={this.props.currentAccount} pageTitle='Store Owner Page'></Header>\r\n\r\n        <div style={{\r\n          border: '1px solid #0000001e', \r\n          borderRadius: '4px', \r\n          backgroundColor: '#fafafa',\r\n          padding: '15px 15px 60px 15px',\r\n          margin: '15px',\r\n          position: 'relative'}}>\r\n\r\n          <div style={{fontSize: '24px'}}>New Store</div>\r\n          <div style={{fontSize: '14px', height: '20px', width: '100%'}}></div>\r\n\r\n          <input type=\"text\" \r\n                 value={this.state.newStoreName}\r\n                 disabled={this.state.loading}\r\n                 placeholder=\"Name\"\r\n                 style={{marginRight: '5px'}}\r\n                 onChange={(e) => this.setState({newStoreName: e.target.value})} />\r\n\r\n          <input type=\"text\" \r\n                 value={this.state.newStoreDescription}\r\n                 disabled={this.state.loading}\r\n                 placeholder=\"Description\"\r\n                 onChange={(e) => this.setState({newStoreDescription: e.target.value})} />\r\n\r\n          {this.state.loading \r\n            ? <div style={{\r\n                        position: 'absolute', \r\n                        bottom: '15px', \r\n                        left: '15px', \r\n                        right: '15px'}}>Loading...</div>\r\n            : <button onClick={this.createNewStore} \r\n                      style={{\r\n                        position: 'absolute', \r\n                        bottom: '15px', \r\n                        left: '15px', \r\n                        right: '15px'}}>Create</button>}\r\n        </div>\r\n\r\n        {stores.length ? stores : <div>No stores yet...</div>}\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoreOwnerContainer\r\n"]},"metadata":{},"sourceType":"module"}